# Default values for redeployer.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

image:
  repository: bitnami/kubectl
  pullPolicy: Always
  # Overrides the image tag whose default is the chart appVersion.
  tag: latest

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

role:
  name: restart-deployment
  apiGroups:
    - apps
    - extensions
  resources:
    - deployments
    - pods
  resourceNames:
    - sonarr
    - radarr
    - prowlarr
    - transmission
    - monitorr
    - overseerr
    - tautulli
    - organizr
    - plex
  verbs:
    - get
    - patch

jobs:
  - name: sonarr
    command: kubectl -n media rollout restart deployment sonarr
    schedule: "0 4 * * *"
  - name: radarr
    command: kubectl -n media rollout restart deployment radarr
    schedule: "0 4 * * *"
  - name: prowlarr
    command: kubectl -n media rollout restart deployment prowlarr
    schedule: "0 4 * * *"
  - name: transmission
    command: kubectl -n media rollout restart deployment transmission
    schedule: "0 4 * * *"
  - name: monitorr
    command: kubectl -n media rollout restart deployment monitorr
    schedule: "0 4 * * *"
  - name: overseerr
    command: kubectl -n media rollout restart deployment overseerr
    schedule: "0 4 * * *"
  - name: tautulli
    command: kubectl -n media rollout restart deployment tautulli
    schedule: "0 4 * * *"
  - name: organizr
    command: kubectl -n media rollout restart deployment organizr
    schedule: "0 4 * * *"
  - name: plex
    command: kubectl -n media rollout restart deployment plex
    schedule: "0 4 * * *"
